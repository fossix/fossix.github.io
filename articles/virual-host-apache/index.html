<!doctype html><html><head>
<link rel=stylesheet href=/syntax.css>
<link rel=stylesheet href=https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css integrity=sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO crossorigin=anonymous>
<link href=/fossix.css rel=stylesheet media=screen>
<title>
Fossix - Virtual Host Running on apache
</title>
<script data-ad-client=ca-pub-0086577717613608 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta charset=utf-8>
</head>
<body><nav class="navbar navbar-expand-md navbar-dark bg-dark">
<a class=navbar-brand href=/>
<img src=/site-logo.png width=40 height=45 class="d-inline-block align-top" alt>
<span class=front-site-title>Fossix</span>
</a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span>
</button>
<div class="collapse navbar-collapse" id=navbarSupportedContent>
<ul class="navbar-nav mr-auto">
<li class=nav-item>
<a href=/categories/snippets class=nav-link>
Snippets
</a>
</li>
<li class=nav-item>
<a href=/categories/blogs class=nav-link>
Blogs
</a>
</li>
<li class=nav-item>
<a href=/categories/articles class=nav-link>
Articles
</a>
</li>
<li class=nav-item>
<a class=nav-link href=/archive/>
Archive
</a>
</li>
</ul>
</div>
</nav>
<div class=container-fluid style=margin-top:25px>
<div class=row>
<div class=col-lg-3>
</div>
<div class="col-lg-6 content">
<h1>Virtual Host Running on apache</h1>
<div class=alert-light>
<div class=float-left>
<span class=badge>
16 March, 2017 | preetam.mn
</span>
</div>
<div class=float-right>
<a href=https://fossix.org/tags/virtalhost class="badge badge-light">#virtalhost</a>
<a href=https://fossix.org/tags/apache class="badge badge-light">#apache</a>
</div>
<span class=badge> </span>
</div>
<h1 id=history>History</h1>
<p>I had Drupal configured and running on my machine, this was good. But
understanding Drupal and going ahead with it became a trouble. so I wanted to go
with plain PHP scripting, so next step was to create a new server for the new
website.</p>
<h1 id=problem>Problem</h1>
<p>I configured the apache2 for the additional virtual host using this Debian
link. But my new URL was not working. When we restart apache2 or reload, we get
warning on <code>NameVirtualHost *:80</code>.</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-console data-lang=console><span class=gp>$ </span>sudo /etc/init.d/apache2 reload
<span class=go>* Reloading web server config apache2
</span><span class=go>[Sat Jul 27 00:27:37 2013] [warn] NameVirtualHost *:80 has no VirtualHosts
</span></code></pre></div><p>Solution : remove/comment <code>#NameVirtualHost *:80</code> from <code>/etc/apache2/ports.conf</code></p>
<p>Hint: grep for <code>NameVirtualHost *</code> and confirm that all the entries in the
apache2 folder are similar.</p>
<p>And the virtual host configuration works fine as below but the URL is not
working.</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-console data-lang=console><span class=gp>$ </span>apache2ctl -S
<span class=go>VirtualHost configuration:
</span><span class=go>wildcard NameVirtualHosts and _default_ servers:
</span><span class=go>*:80                   is a NameVirtualHost
</span><span class=go>default server preetam-box (/etc/apache2/sites-enabled/000-default:1)
</span><span class=go>port 80 namevhost preetam-box (/etc/apache2/sites-enabled/000-default:1)
</span><span class=go>port 80 namevhost drupal722 (/etc/apache2/sites-enabled/drupal722:1)
</span><span class=go>port 80 namevhost preetamsite (/etc/apache2/sites-enabled/preetamsite:1)
</span><span class=go>Syntax OK
</span><span class=go></span><span class=gp>$ </span><span class=nb>source</span> /etc/apache2/envvars <span class=p>;</span> /usr/sbin/apache2 -S
<span class=go>VirtualHost configuration:
</span><span class=go>wildcard NameVirtualHosts and _default_ servers:
</span><span class=go>*:80                   is a NameVirtualHost
</span><span class=go>default server preetam-box (/etc/apache2/sites-enabled/000-default:1)
</span><span class=go>port 80 namevhost preetam-box (/etc/apache2/sites-enabled/000-default:1)
</span><span class=go>port 80 namevhost drupal722 (/etc/apache2/sites-enabled/drupal722:1)
</span><span class=go>port 80 namevhost preetamsite (/etc/apache2/sites-enabled/preetamsite:1)
</span><span class=go>Syntax OK
</span></code></pre></div><p>Now these are OK.</p>
<h1 id=solution>Solution</h1>
<p>The problem is that the DNS is not getting resolved and to get this working we
need to edit <code>/etc/hosts</code> and add our new website.</p>
<pre tabindex=0><code>127.0.0.1   localhost
127.0.0.1   drupal722
127.0.0.1   preetamsite    # &lt;== new entry here
127.0.1.1   ubuntu
</code></pre><p>this lets the DNS to route our URL to <code>apache2</code></p>
<h1 id=conclusion>Conclusion</h1>
<p>Have patience with Google and ask right questions. I wasted my 4 hours of time
and found this. Was it worth it? it was :)</p>
</div>
<div class=col-lg-3>
<div>
<h5>You might also like</h5>
<ul style=list-style-type:none>
<li class=box-list><a href=/articles/personal-computer-as-webserver/ class=item>You personal computer can be a webserver</a></li>
</ul>
</div>
</div><script src=https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js></script>
<script src=/fossix.js></script>
<script src=//ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js></script>
<script src=https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js integrity=sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy crossorigin=anonymous></script>
<hr>
<div class=container>
<div class=row>
<div class=mx-auto>
<ul class=nav>
<li class=nav-item>
<a class="nav-link text-muted" href=/about>About</a>
</li>
<li class=nav-item>
<a class="nav-link text-muted" href=/contact/>Contact</a>
</li>
<li class=nav-item>
<a class="nav-link text-muted" href=/privacy/>Privacy Policy</a>
</li>
</ul>
</div>
</div>
<div class=row>
<div class=mx-auto>
<p>Site design and logo and content &copy; fossix.org</p>
</div>
</div>
</div>
</div>
</div>
</body>
</html>